
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Yoco Payment Test</title>
  <script src="https://js.yoco.com/sdk/v1/yoco-sdk-web.js"></script>
</head>
<body>
  <h2>Pay R2</h2>
  <div id="card-frame"></div>
  <button id="pay-button">Pay</button>

  <script>
    const yoco = new window.YocoSDK({
      publicKey: 'pk_test_edcd87b9Al4B4Rr1b3f4'
    });

    const inline = yoco.inline({
      layout: "basic",
      amountInCents: 200,
      currency: "ZAR"
    });

    inline.mount("#card-frame");

    document.getElementById("pay-button").addEventListener("click", async () => {
      const result = await inline.createToken();
      if (result.error) {
        alert(result.error.message);
      } else {
        alert("Token: " + result.id);
        // Post to backend to charge (only used if you want to test charging from backend)
        // await fetch('/charge-card', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ token: result.id, email: 'test@example.com' }) });
      }
    });
  </script>
</body>
</html>
